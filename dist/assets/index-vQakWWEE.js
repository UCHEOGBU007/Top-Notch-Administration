function e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}import{a as t,j as s}from"./react-pyA0kxiJ.js";import{c as r}from"./react-dom-ByhLVhLP.js";import{u as n,B as a,R as o,a as i}from"./react-router-BzaSiG31.js";import{A as c}from"./react-icons-C0KUGc7K.js";import{c as d}from"./@supabase-QroR59vR.js";import"./scheduler-nLDBUfSY.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const l="_container_k8j4j_3",m="_header_k8j4j_23",h="_logo_k8j4j_31",j="_main_k8j4j_43",u="_form_k8j4j_55",_="_title_k8j4j_79",f="_label_k8j4j_95",p="_input_k8j4j_111",x="_button_k8j4j_131",b=()=>{const[e,r]=t.useState(""),[a,o]=t.useState(""),i=n();return s.jsxs("div",{className:l,children:[s.jsx("header",{className:m,children:s.jsx("img",{src:"/Logo.jpg",alt:"Top Notch Logo",className:h})}),s.jsx("main",{className:j,children:s.jsxs("form",{className:u,onSubmit:t=>{t.preventDefault();"topnotchadmin"===e&&"securepass2025"===a?i("/Admin"):alert("Invalid credentials. Please try again.")},children:[s.jsx("h2",{className:_,children:"Admin Login"}),s.jsx("label",{htmlFor:"username",className:f,children:"Username :"}),s.jsx("input",{type:"text",id:"username",name:"username",required:!0,className:p,placeholder:"Enter your username",value:e,onChange:e=>r(e.target.value)}),s.jsx("label",{htmlFor:"password",className:f,children:"Password :"}),s.jsx("input",{type:"password",id:"password",name:"password",required:!0,className:p,placeholder:"Enter your password",value:a,onChange:e=>o(e.target.value)}),s.jsx("button",{type:"submit",className:x,children:"Login"})]})})]})},v={reservationSection:"_reservationSection_tbv2f_25",dashboardMain:"_dashboardMain_tbv2f_39",dashboardHeader:"_dashboardHeader_tbv2f_55",statsContainer:"_statsContainer_tbv2f_83",statCard:"_statCard_tbv2f_95",confirmedCardBorder:"_confirmedCardBorder_tbv2f_139",pendingCardBorder:"_pendingCardBorder_tbv2f_145",iconWrapper:"_iconWrapper_tbv2f_153",confirmedIcon:"_confirmedIcon_tbv2f_181",pendingIcon:"_pendingIcon_tbv2f_193",reservationStatistics:"_reservationStatistics_tbv2f_205",searchForm:"_searchForm_tbv2f_237",searchInput:"_searchInput_tbv2f_249",searchButton:"_searchButton_tbv2f_279",tableWrapper:"_tableWrapper_tbv2f_303",reservationTable:"_reservationTable_tbv2f_321",tableHeader:"_tableHeader_tbv2f_333",tableBody:"_tableBody_tbv2f_357",confirmedStatusText:"_confirmedStatusText_tbv2f_387",pendingStatusText:"_pendingStatusText_tbv2f_397",confirmButton:"_confirmButton_tbv2f_407",deleteButton:"_deleteButton_tbv2f_409",confirmPending:"_confirmPending_tbv2f_433",confirmConfirmed:"_confirmConfirmed_tbv2f_443"},g=d("https://repwkoonlksjykppcqgw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJlcHdrb29ubGtzanlrcHBjcWd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwNTE2MzYsImV4cCI6MjA3MDYyNzYzNn0.vTY2R768jCgkX53s1QPlF2DDmn_G5lKHzRxjzkUHBcc"),N=e=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[s.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),s.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),y=e=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("polyline",{points:"12 6 12 12 16 14"})]}),C=()=>{const[e,r]=t.useState([]),[n,a]=t.useState(""),[o,i]=t.useState({confirmed:0,pending:0});t.useEffect(()=>{c()},[]),t.useEffect(()=>{const t=e.filter(e=>"confirmed"===e.status).length,s=e.length-t;i({confirmed:t,pending:s})},[e]);const c=async()=>{const{data:e,error:t}=await g.from("top_notch_reservations").select("*");t?console.error("Error fetching reservations:",t):r(e)},d=t.useMemo(()=>e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())),[e,n]);return s.jsxs("section",{className:v.reservationSection,children:[s.jsxs("main",{className:v.dashboardMain,children:[s.jsxs("section",{className:v.dashboardHeader,children:[s.jsx("h2",{children:"Manage Reservations"}),s.jsx("p",{children:"View and manage all reservations here."})]}),s.jsxs("div",{className:v.statsContainer,children:[s.jsx("article",{className:"".concat(v.statCard," ").concat(v.confirmedCardBorder),style:{borderLeft:"#10b981 100px solid"},children:s.jsxs("div",{className:v.statContent,children:[s.jsx("h3",{children:"Completed Reservations"}),s.jsxs("div",{className:"".concat(v.iconWrapper," ").concat(v.confirmedIcon),children:[s.jsx(N,{}),s.jsx("p",{style:{border:"none"},children:o.confirmed})]})]})}),s.jsx("article",{className:"".concat(v.statCard," ").concat(v.pendingCardBorder),style:{borderLeft:"#fbbf24 100px solid"},children:s.jsxs("div",{children:[s.jsx("h3",{children:"Pending Reservations"}),s.jsxs("div",{className:"".concat(v.iconWrapper," ").concat(v.pendingIcon),children:[s.jsx(y,{}),s.jsx("p",{style:{border:"none"},children:o.pending})]})]})})]})]}),s.jsxs("div",{className:"".concat(v.reservationStatistics),children:[s.jsx("h2",{children:"Search Reservations"}),s.jsxs("form",{className:v.searchForm,onSubmit:e=>{e.preventDefault()},children:[s.jsx("input",{type:"text",placeholder:"Search by name...",className:v.searchInput,value:n,onChange:e=>a(e.target.value)}),s.jsx("button",{type:"submit",className:v.searchButton,children:"Search"})]})]}),s.jsx("div",{className:v.tableWrapper,children:s.jsxs("table",{className:v.reservationTable,children:[s.jsx("thead",{className:v.tableHeader,children:s.jsxs("tr",{className:v.tableRow,children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Time"}),s.jsx("th",{children:"Email"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Telephone"}),s.jsx("th",{children:"Guest"}),s.jsx("th",{children:"Services"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{className:v.tableBody,children:d.map(e=>s.jsxs("tr",{className:v.tableRow,children:[s.jsx("td",{children:e.name}),s.jsx("td",{children:e.time}),s.jsx("td",{children:e.email}),s.jsx("td",{children:e.date}),s.jsx("td",{children:e.phone||"N/A"}),s.jsx("td",{children:e.guests}),s.jsx("td",{children:e.occasion}),s.jsx("td",{className:"confirmed"===e.status?v.confirmedStatusText:v.pendingStatusText,children:e.status||"unconfirmed"}),s.jsx("td",{children:s.jsxs("div",{className:v.actionButtons,children:[s.jsx("button",{onClick:()=>(async e=>{r(t=>t.map(t=>t.id===e?{...t,status:"confirmed"}:t));const{error:t}=await g.from("top_notch_reservations").update({status:"confirmed"}).eq("id",e);t&&console.error("Error confirming reservation:",t)})(e.id),disabled:"confirmed"===e.status,className:"confirmed"===e.status?"".concat(v.confirmButton," ").concat(v.confirmConfirmed):"".concat(v.confirmButton," ").concat(v.confirmPending),children:"confirmed"===e.status?"Confirmed":"Confirm"}),s.jsx("button",{onClick:()=>(async e=>{r(t=>t.filter(t=>t.id!==e));const{error:t}=await g.from("top_notch_reservations").delete().eq("id",e);t&&console.error("Error deleting reservation:",t)})(e.id),className:"".concat(v.deleteButton),children:"Delete"})]})})]},e.id))})]})})]})},w="_container_brtgf_17",k="_navContent_brtgf_67",S="_logoutButton_brtgf_167",B=()=>{const[e,r]=t.useState("dashboard"),a=n();return s.jsxs("div",{className:w,children:[s.jsxs("nav",{children:[s.jsxs("div",{className:k,children:[s.jsx("img",{src:"/Logo.jpg",alt:"Top Notch Logo"}),s.jsx("h2",{children:"Admin Panel"}),s.jsx("button",{onClick:()=>r("dashboard"),children:"Dashboard"})]}),s.jsxs("button",{className:S,onClick:()=>{a("/",{replace:!0})},children:["Log out",s.jsx("span",{children:s.jsx(c,{})})]})]}),s.jsxs("div",{children:[s.jsx("header",{children:s.jsx("h1",{children:"Welcome to the Admin Panel"})}),"dashboard"===e?s.jsx(C,{}):s.jsx("p",{children:"Please select an option from the menu"})]})]})};function I(){return s.jsx(a,{children:s.jsxs(o,{children:[s.jsx(i,{path:"/",element:s.jsx(b,{})}),s.jsx(i,{path:"/Admin",element:s.jsx(B,{})})]})})}r.createRoot(document.getElementById("root")).render(s.jsx(t.StrictMode,{children:s.jsx(I,{})}));export{e as __vite_legacy_guard};
