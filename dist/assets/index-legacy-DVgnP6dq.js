System.register(["./react-legacy-DCHa8WP9.js","./react-dom-legacy-CXQCcFb5.js","./react-router-legacy-BXY5F7nw.js","./react-icons-legacy-DHbIOIG_.js","./@supabase-legacy-DkIinATk.js","./scheduler-legacy-Cdd_4uFe.js"],function(e,r){"use strict";var o,t,n,a,i,s,d,c,l;return{setters:[e=>{o=e.a,t=e.j},e=>{n=e.c},e=>{a=e.u,i=e.B,s=e.R,d=e.a},e=>{c=e.A},e=>{l=e.c},null],execute:function(){var e=document.createElement("style");e.textContent="._container_k8j4j_3{background-color:#000;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center}._header_k8j4j_23{margin-bottom:1rem}._logo_k8j4j_31{width:120px;height:auto}._main_k8j4j_43{display:flex;justify-content:center;width:100%}._form_k8j4j_55{background-color:#1c1c1c;padding:2rem;border-radius:10px;width:100%;max-width:400px;box-shadow:0 0 20px rgba(255,255,255,.1);display:flex;flex-direction:column}._title_k8j4j_79{color:#fff;text-align:center;margin-bottom:1.5rem;font-size:1.5rem}._label_k8j4j_95{color:#fff;font-weight:bolder;margin-bottom:.5rem;font-size:.9rem}._input_k8j4j_111{padding:.75rem;margin-bottom:1rem;border:none;border-radius:5px;background-color:#2a2a2a;color:#fff}._button_k8j4j_131{padding:.75rem;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-weight:700;transition:background-color .3s ease}._button_k8j4j_131:hover{background-color:#0056b3}:root{--color-primary: #4f46e5;--color-success: #10b981;--color-info: #3b82f6;--color-warning: #fbbf24;--color-danger: #dc3545;--color-text-primary: #1f2937;--color-text-secondary: #6b7280;--color-bg-light: #f3f4f6;--color-bg-base: #ffffff}._reservationSection_r2690_25{padding:24px;background-color:var(--color-bg-light);font-family:Inter,sans-serif;min-height:100vh}._dashboardMain_r2690_39{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto;gap:20px;margin-bottom:32px}._dashboardHeader_r2690_55{margin-bottom:16px;color:var(--color-text-primary);padding:0 10px}._dashboardHeader_r2690_55 h2{font-size:1.5rem;font-weight:700}._dashboardHeader_r2690_55 p{color:var(--color-text-secondary);font-size:.9rem}._statsContainer_r2690_83{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px}._statCard_r2690_95{background-color:var(--color-bg-base);padding:24px;border-radius:0 12px 12px 0;box-shadow:0 4px 12px rgba(0,0,0,.08);transition:transform .2s ease,box-shadow .2s ease}._statCard_r2690_95:hover{transform:translateY(-2px);box-shadow:0 8px 16px rgba(0,0,0,.12)}._statCard_r2690_95 h3{font-size:.9rem;color:var(--color-text-secondary);margin:0 0 10px;font-weight:500;text-transform:uppercase;letter-spacing:.05em}._confirmedCardBorder_r2690_139{border-left-color:var(--color-success)}._pendingCardBorder_r2690_145{border-left-color:var(--color-info)}._iconWrapper_r2690_153{display:flex;align-items:center;gap:16px;margin-top:10px}._iconWrapper_r2690_153 p{font-size:2.5rem;font-weight:700;margin:0;line-height:1}._confirmedIcon_r2690_181 p,._confirmedIcon_r2690_181 svg{color:var(--color-success);stroke:var(--color-success)}._pendingIcon_r2690_193 p,._pendingIcon_r2690_193 svg{color:var(--color-info);stroke:var(--color-info)}._reservationStatistics_r2690_205{background-color:var(--color-bg-base);padding:24px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.08);margin-top:32px;margin-bottom:24px}._reservationStatistics_r2690_205 h2{font-size:1.25rem;color:var(--color-text-primary);margin-top:0;font-weight:600}._searchForm_r2690_237{display:flex;gap:10px;margin-top:16px}._searchInput_r2690_249{padding:10px 15px;flex-grow:1;border:1px solid #d1d5db;border-radius:6px;outline:none;box-shadow:inset 0 1px 2px rgba(0,0,0,.05);transition:border-color .2s}._searchInput_r2690_249:focus{border-color:var(--color-success);box-shadow:0 0 0 1px var(--color-primary)}._searchButton_r2690_279{padding:10px 15px;background-color:var(--color-success);color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:600;transition:background-color .2s;flex-shrink:0}._tableWrapper_r2690_303{overflow-x:auto;width:100%;margin-top:24px;background-color:var(--color-bg-base);border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.08)}._reservationTable_r2690_321{width:100%;border-collapse:collapse;min-width:900px}._tableHeader_r2690_333 th{text-align:left;padding:12px 16px;background-color:#f8fafc;color:var(--color-text-secondary);font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;border-bottom:2px solid #e5e7eb}._tableBody_r2690_357 td{padding:12px 16px;border-bottom:1px solid #f1f5f9;color:var(--color-text-primary);font-size:.9rem}._tableBody_r2690_357 tr:last-child td{border-bottom:none}._tableBody_r2690_357 tr:hover{background-color:#f8fafc}._confirmedStatusText_r2690_389{color:var(--color-success);font-weight:600}._pendingStatusText_r2690_399{color:#f59e0b;font-weight:600}._confirmButton_r2690_409,._deleteButton_r2690_411{padding:6px 10px;border:none;border-radius:4px;cursor:pointer;font-weight:500;font-size:.85rem;margin-right:8px;transition:opacity .2s,background-color .2s;white-space:nowrap}._confirmPending_r2690_435{background-color:var(--color-warning);color:#333}._confirmConfirmed_r2690_445{background-color:var(--color-success);color:#fff}._confirmButton_r2690_409:disabled{cursor:not-allowed;opacity:.6}._deleteButton_r2690_411{background-color:var(--color-danger);color:#fff}._deleteButton_r2690_411:hover{opacity:.9}@media (max-width: 768px){._reservationSection_r2690_25{padding:16px}._searchForm_r2690_237{flex-direction:column}._searchButton_r2690_279{width:100%}._tableHeader_r2690_333 th,._tableBody_r2690_357 td{padding:10px 12px;font-size:.85rem}._statCard_r2690_95{padding:20px}._iconWrapper_r2690_153 p{font-size:2rem}._tableBody_r2690_357 td:last-child{display:flex;flex-direction:row;gap:6px;flex-wrap:wrap}}@media (max-width: 480px){._dashboardHeader_r2690_55 h2{font-size:1.3rem}._tableHeader_r2690_333 th,._tableBody_r2690_357 td{padding:8px 10px;font-size:.8rem}._confirmButton_r2690_409,._deleteButton_r2690_411{font-size:.75rem;padding:5px 8px}}*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}._container_brtgf_17{display:flex;flex-direction:row;min-height:100vh;background-color:#f0f2f5}nav{padding:0;margin:0;width:250px;background-color:#000;color:#ecf0f1;display:flex;flex-direction:column;justify-content:space-between;position:sticky;top:0;left:0;height:100vh;box-shadow:2px 0 10px rgba(0,0,0,.1);z-index:10}nav ._navContent_brtgf_67{width:100%;padding:1.5rem 1rem .5rem;display:flex;flex-direction:column;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}nav img{width:90px;height:90px;margin-bottom:1rem;border-radius:50%;object-fit:cover;border:3px solid #3498db}nav h2{font-size:1.4rem;margin-bottom:2rem;text-align:center;font-weight:600;color:#fff}nav button{background-color:transparent;color:#ecf0f1;border:none;width:100%;padding:.75rem 1rem;margin:.25rem 0;border-radius:4px;cursor:pointer;font-size:1rem;text-align:left;transition:all .2s ease;font-weight:500;background-color:#1a2129;color:#faaa16;font-weight:bolder}nav button:hover,nav button:focus{background-color:#34495e;color:#fff}._logoutButton_brtgf_167{display:flex;justify-content:center;align-items:center;margin-top:auto;background-color:transparent;color:#e74c3c;border-top:1px solid rgba(255,255,255,.1);padding:1rem;text-align:center;font-weight:600;transition:all .2s ease}._logoutButton_brtgf_167 span{margin-left:.5rem;display:flex;align-items:center;font-size:1.1em}._logoutButton_brtgf_167:hover{background-color:#c0392b;color:#fff}._container_brtgf_17>div:last-child{flex:1;padding:2rem;overflow-y:auto}header{padding-bottom:1rem;border-bottom:1px solid #ddd;margin-bottom:2rem}header h1{font-size:2.2rem;color:#2c3e50;font-weight:300}main{display:grid;grid-template-columns:1fr;gap:1.5rem}main>section{grid-column:1 / -1;border-bottom:1px solid #e0e0e0;padding-bottom:1rem;margin-bottom:.5rem}main>section h2{font-size:1.8rem;color:#2c3e50;margin-bottom:.5rem;font-weight:600}main>section p{color:#7f8c8d;font-size:1rem}main article{background-color:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.08);transition:transform .3s ease,box-shadow .3s ease;display:flex;flex-direction:column;align-items:center;text-align:center;justify-content:space-between;justify-items:space-around}main article:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.15)}main article h2{font-size:1.2rem;font-weight:500;color:#34495e;margin-bottom:1rem}main article p{font-size:3rem;font-weight:700;line-height:1;border:solid .5px green;border-radius:100%;padding:10px}main article:nth-of-type(1){background-color:#e8f5e9;border:1px solid #c8e6c9}main article:nth-of-type(1) p{color:#4caf50}main article:nth-of-type(2){background-color:#fff3e0;border:1px solid #ffe0b2}main article:nth-of-type(2) p{color:#ff9800}@media (min-width: 640px){main{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){main{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){._container_brtgf_17{flex-direction:column}nav{width:100%;height:auto;flex-direction:row;justify-content:space-between;align-items:center;padding:1rem;position:static;box-shadow:0 2px 4px rgba(0,0,0,.1);background-color:#2c3e50}nav ._navContent_brtgf_67{flex-direction:row;padding:0;align-items:center;border-bottom:none;gap:1rem}nav img{width:40px;height:40px;margin-right:0;margin-bottom:0}nav h2{font-size:1.2rem;margin:0}nav ._navContent_brtgf_67 button{width:auto;padding:.5rem 1rem;font-size:.9rem;text-align:center;background-color:#3498db;color:#fff}._logoutButton_brtgf_167{justify-content:flex-start;width:auto;padding:.5rem 1rem;font-size:.9rem;text-align:center;background-color:#e74c3c;color:#fff;font-weight:500;margin:0;border-top:none}._logoutButton_brtgf_167:hover{background-color:#c0392b}._container_brtgf_17>div:last-child{padding:1rem}}@media (max-width: 600px){nav{flex-direction:column;align-items:flex-start;padding:1rem}nav ._navContent_brtgf_67{width:100%;margin-bottom:1rem;flex-wrap:wrap}nav h2{flex-basis:100%;margin-top:.5rem;margin-left:0}nav ._navContent_brtgf_67 button{width:100%;margin-top:.5rem}._logoutButton_brtgf_167{width:100%;margin-top:.5rem}main article{aspect-ratio:auto}}*{margin:0;padding:0;box-sizing:border-box;font-family:Courier New,Courier,monospace}\n/*$vite$:1*/",document.head.appendChild(e);const r="_container_k8j4j_3",m="_header_k8j4j_23",p="_logo_k8j4j_31",_="_main_k8j4j_43",f="_form_k8j4j_55",g="_title_k8j4j_79",h="_label_k8j4j_95",x="_input_k8j4j_111",b="_button_k8j4j_131",u=()=>{const[e,n]=o.useState(""),[i,s]=o.useState(""),d=a();return t.jsxs("div",{className:r,children:[t.jsx("header",{className:m,children:t.jsx("img",{src:"/Logo.jpg",alt:"Top Notch Logo",className:p})}),t.jsx("main",{className:_,children:t.jsxs("form",{className:f,onSubmit:r=>{r.preventDefault(),"topnotchadmin"===e&&"securepass2025"===i?d("/Admin"):alert("Invalid credentials. Please try again.")},children:[t.jsx("h2",{className:g,children:"Admin Login"}),t.jsx("label",{htmlFor:"username",className:h,children:"Username :"}),t.jsx("input",{type:"text",id:"username",name:"username",required:!0,className:x,placeholder:"Enter your username",value:e,onChange:e=>n(e.target.value)}),t.jsx("label",{htmlFor:"password",className:h,children:"Password :"}),t.jsx("input",{type:"password",id:"password",name:"password",required:!0,className:x,placeholder:"Enter your password",value:i,onChange:e=>s(e.target.value)}),t.jsx("button",{type:"submit",className:b,children:"Login"})]})})]})},j={reservationSection:"_reservationSection_r2690_25",dashboardMain:"_dashboardMain_r2690_39",dashboardHeader:"_dashboardHeader_r2690_55",statsContainer:"_statsContainer_r2690_83",statCard:"_statCard_r2690_95",confirmedCardBorder:"_confirmedCardBorder_r2690_139",pendingCardBorder:"_pendingCardBorder_r2690_145",iconWrapper:"_iconWrapper_r2690_153",confirmedIcon:"_confirmedIcon_r2690_181",pendingIcon:"_pendingIcon_r2690_193",reservationStatistics:"_reservationStatistics_r2690_205",searchForm:"_searchForm_r2690_237",searchInput:"_searchInput_r2690_249",searchButton:"_searchButton_r2690_279",tableWrapper:"_tableWrapper_r2690_303",reservationTable:"_reservationTable_r2690_321",tableHeader:"_tableHeader_r2690_333",tableBody:"_tableBody_r2690_357",confirmedStatusText:"_confirmedStatusText_r2690_389",pendingStatusText:"_pendingStatusText_r2690_399",confirmButton:"_confirmButton_r2690_409",deleteButton:"_deleteButton_r2690_411",confirmPending:"_confirmPending_r2690_435",confirmConfirmed:"_confirmConfirmed_r2690_445"},v=l("https://repwkoonlksjykppcqgw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJlcHdrb29ubGtzanlrcHBjcWd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwNTE2MzYsImV4cCI6MjA3MDYyNzYzNn0.vTY2R768jCgkX53s1QPlF2DDmn_G5lKHzRxjzkUHBcc"),w=e=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),y=e=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]}),k=()=>{const[e,r]=o.useState([]),[n,a]=o.useState(""),[i,s]=o.useState({confirmed:0,pending:0}),[d,c]=o.useState(!1),[l,m]=o.useState(""),[p,_]=o.useState({});o.useEffect(()=>{f()},[]);const f=async()=>{c(!0),m("");try{const{data:e,error:o}=await v.from("top_notch_reservations").select("*");if(o)console.error("Error fetching reservations:",o),m("Failed to load reservations."),r([]),s({confirmed:0,pending:0});else{const o=Array.isArray(e)?e:[];r(o);const t=o.filter(e=>"confirmed"===e.status).length,n=o.length-t;s({confirmed:t,pending:n})}}catch(e){console.error("Unexpected error:",e),m("Unexpected error occurred."),r([]),s({confirmed:0,pending:0})}finally{c(!1)}},g=o.useMemo(()=>{const r=n.trim().toLowerCase();return r?e.filter(e=>(e.name||"").toLowerCase().includes(r)):e},[e,n]);return t.jsxs("section",{className:j.reservationSection,children:[t.jsxs("main",{className:j.dashboardMain,children:[t.jsxs("section",{className:j.dashboardHeader,children:[t.jsx("h2",{children:"Manage Reservations"}),t.jsx("p",{children:"View and manage all reservations here."})]}),t.jsxs("div",{className:j.statsContainer,children:[t.jsx("article",{className:`${j.statCard} ${j.confirmedCardBorder}`,style:{borderLeft:"#10b981 100px solid"},children:t.jsxs("div",{className:j.statContent,children:[t.jsx("h3",{children:"Completed Reservations"}),t.jsxs("div",{className:`${j.iconWrapper} ${j.confirmedIcon}`,children:[t.jsx(w,{}),t.jsx("p",{style:{border:"none"},children:i.confirmed})]})]})}),t.jsx("article",{className:`${j.statCard} ${j.pendingCardBorder}`,style:{borderLeft:"#fbbf24 100px solid"},children:t.jsxs("div",{children:[t.jsx("h3",{children:"Pending Reservations"}),t.jsxs("div",{className:`${j.iconWrapper} ${j.pendingIcon}`,children:[t.jsx(y,{}),t.jsx("p",{style:{border:"none"},children:i.pending})]})]})})]})]}),t.jsxs("div",{className:j.reservationStatistics,children:[t.jsx("h2",{children:"Search Reservations"}),t.jsxs("form",{className:j.searchForm,onSubmit:e=>e.preventDefault(),children:[t.jsx("input",{type:"text",placeholder:"Search by name...",className:j.searchInput,value:n,onChange:e=>a(e.target.value)}),t.jsx("button",{type:"submit",className:j.searchButton,children:"Search"})]})]}),d?t.jsx("p",{className:j.loadingText,children:"Loading reservations..."}):l?t.jsx("p",{className:j.errorText,children:l}):t.jsx("div",{className:j.tableWrapper,children:t.jsxs("table",{className:j.reservationTable,children:[t.jsx("thead",{className:j.tableHeader,children:t.jsxs("tr",{className:j.tableRow,children:[t.jsx("th",{children:"Name"}),t.jsx("th",{children:"Time"}),t.jsx("th",{children:"Email"}),t.jsx("th",{children:"Date"}),t.jsx("th",{children:"Telephone"}),t.jsx("th",{children:"Guest"}),t.jsx("th",{children:"Services"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsxs("tbody",{className:j.tableBody,children:[g.map(o=>t.jsxs("tr",{className:j.tableRow,children:[t.jsx("td",{children:o.name}),t.jsx("td",{children:o.time}),t.jsx("td",{children:o.email}),t.jsx("td",{children:o.date}),t.jsx("td",{children:o.phone||"N/A"}),t.jsx("td",{children:o.guests}),t.jsx("td",{children:o.occasion}),t.jsx("td",{className:"confirmed"===o.status?j.confirmedStatusText:j.pendingStatusText,children:o.status||"unconfirmed"}),t.jsx("td",{children:t.jsxs("div",{className:j.actionButtons,children:[t.jsx("button",{onClick:()=>(async e=>{if(e){_(r=>({...r,[e]:!0}));try{const{data:o,error:t}=await v.from("top_notch_reservations").update({status:"confirmed"}).eq("id",e).select();t?(console.error("Supabase update error (confirm):",t),alert("Unable to confirm reservation. Check console for details.")):o&&o.length>0?(r(r=>r.map(r=>r.id===e?{...r,...o[0]}:r)),await f()):await f()}catch(o){console.error("Unexpected error confirming reservation:",o),alert("Unexpected error. See console.")}finally{_(r=>({...r,[e]:!1}))}}})(o.id),disabled:"confirmed"===o.status||!!p[o.id],className:"confirmed"===o.status?`${j.confirmButton} ${j.confirmConfirmed}`:`${j.confirmButton} ${j.confirmPending}`,children:p[o.id]?"Processing...":"confirmed"===o.status?"Confirmed":"Confirm"}),t.jsx("button",{onClick:()=>(async o=>{if(!o)return;const t=e.find(e=>e.id===o);if(t)if("confirmed"!==t.status){if(window.confirm("Are you sure you want to delete this reservation?")){_(e=>({...e,[o]:!0}));try{const{error:n}=await v.from("top_notch_reservations").delete().eq("id",o);n?(console.error("Error deleting reservation:",n),alert("Failed to delete reservation. Please try again.")):(r(e=>e.filter(e=>e.id!==o)),s(r=>{const o="confirmed"===t.status?Math.max(0,r.confirmed-1):r.confirmed;return{confirmed:o,pending:Math.max(0,e.length-1-o)}}))}catch(n){console.error("Unexpected error deleting reservation:",n),alert("Unexpected error. See console.")}finally{_(e=>({...e,[o]:!1}))}}}else alert("Confirmed reservations cannot be deleted.")})(o.id),disabled:"confirmed"===o.status||!!p[o.id],className:j.deleteButton,children:p[o.id]?"Processing...":"confirmed"===o.status?"Locked":"Delete"})]})})]},o.id)),0===g.length&&t.jsx("tr",{children:t.jsx("td",{colSpan:"9",style:{textAlign:"center",padding:"1rem"},children:"No reservations found."})})]})]})})]})},C="_container_brtgf_17",B="_navContent_brtgf_67",N="_logoutButton_brtgf_167",S=()=>{const[e,r]=o.useState("dashboard"),n=a();return t.jsxs("div",{className:C,children:[t.jsxs("nav",{children:[t.jsxs("div",{className:B,children:[t.jsx("img",{src:"/Logo.jpg",alt:"Top Notch Logo"}),t.jsx("h2",{children:"Admin Panel"}),t.jsx("button",{onClick:()=>r("dashboard"),children:"Dashboard"})]}),t.jsxs("button",{className:N,onClick:()=>{window.confirm("Are you sure you want to log out?")&&n("/",{replace:!0})},children:["Log out",t.jsx("span",{children:t.jsx(c,{})})]})]}),t.jsxs("div",{children:[t.jsx("header",{children:t.jsx("h1",{children:"Welcome to the Admin Panel"})}),"dashboard"===e?t.jsx(k,{}):t.jsx("p",{children:"Please select an option from the menu"})]})]})};function z(){return t.jsx(i,{children:t.jsxs(s,{children:[t.jsx(d,{path:"/",element:t.jsx(u,{})}),t.jsx(d,{path:"/Admin",element:t.jsx(S,{})})]})})}n.createRoot(document.getElementById("root")).render(t.jsx(o.StrictMode,{children:t.jsx(z,{})}))}}});
