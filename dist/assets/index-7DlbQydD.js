function e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}import{a as r,j as s}from"./react-pyA0kxiJ.js";import{c as t}from"./react-dom-ByhLVhLP.js";import{u as n,B as a,R as o,a as i}from"./react-router-BzaSiG31.js";import{A as c}from"./react-icons-C0KUGc7K.js";import{c as d}from"./@supabase-QroR59vR.js";import"./scheduler-nLDBUfSY.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)}).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?r.credentials="include":"anonymous"===e.crossOrigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();const l="_container_k8j4j_3",m="_header_k8j4j_23",h="_logo_k8j4j_31",j="_main_k8j4j_43",u="_form_k8j4j_55",_="_title_k8j4j_79",p="_label_k8j4j_95",x="_input_k8j4j_111",f="_button_k8j4j_131",g=()=>{const[e,t]=r.useState(""),[a,o]=r.useState(""),i=n();return s.jsxs("div",{className:l,children:[s.jsx("header",{className:m,children:s.jsx("img",{src:"/Logo.jpg",alt:"Top Notch Logo",className:h})}),s.jsx("main",{className:j,children:s.jsxs("form",{className:u,onSubmit:r=>{r.preventDefault();"topnotchadmin"===e&&"securepass2025"===a?i("/Admin"):alert("Invalid credentials. Please try again.")},children:[s.jsx("h2",{className:_,children:"Admin Login"}),s.jsx("label",{htmlFor:"username",className:p,children:"Username :"}),s.jsx("input",{type:"text",id:"username",name:"username",required:!0,className:x,placeholder:"Enter your username",value:e,onChange:e=>t(e.target.value)}),s.jsx("label",{htmlFor:"password",className:p,children:"Password :"}),s.jsx("input",{type:"password",id:"password",name:"password",required:!0,className:x,placeholder:"Enter your password",value:a,onChange:e=>o(e.target.value)}),s.jsx("button",{type:"submit",className:f,children:"Login"})]})})]})},b={reservationSection:"_reservationSection_r2690_25",dashboardMain:"_dashboardMain_r2690_39",dashboardHeader:"_dashboardHeader_r2690_55",statsContainer:"_statsContainer_r2690_83",statCard:"_statCard_r2690_95",confirmedCardBorder:"_confirmedCardBorder_r2690_139",pendingCardBorder:"_pendingCardBorder_r2690_145",iconWrapper:"_iconWrapper_r2690_153",confirmedIcon:"_confirmedIcon_r2690_181",pendingIcon:"_pendingIcon_r2690_193",reservationStatistics:"_reservationStatistics_r2690_205",searchForm:"_searchForm_r2690_237",searchInput:"_searchInput_r2690_249",searchButton:"_searchButton_r2690_279",tableWrapper:"_tableWrapper_r2690_303",reservationTable:"_reservationTable_r2690_321",tableHeader:"_tableHeader_r2690_333",tableBody:"_tableBody_r2690_357",confirmedStatusText:"_confirmedStatusText_r2690_389",pendingStatusText:"_pendingStatusText_r2690_399",confirmButton:"_confirmButton_r2690_409",deleteButton:"_deleteButton_r2690_411",confirmPending:"_confirmPending_r2690_435",confirmConfirmed:"_confirmConfirmed_r2690_445"},v=d("https://repwkoonlksjykppcqgw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJlcHdrb29ubGtzanlrcHBjcWd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwNTE2MzYsImV4cCI6MjA3MDYyNzYzNn0.vTY2R768jCgkX53s1QPlF2DDmn_G5lKHzRxjzkUHBcc"),N=e=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[s.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),s.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),y=e=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("polyline",{points:"12 6 12 12 16 14"})]}),C=()=>{const[e,t]=r.useState([]),[n,a]=r.useState(""),[o,i]=r.useState({confirmed:0,pending:0});r.useEffect(()=>{c()},[]),r.useEffect(()=>{const r=e.filter(e=>"confirmed"===e.status).length,s=e.length-r;i({confirmed:r,pending:s})},[e]);const c=async()=>{const{data:e,error:r}=await v.from("top_notch_reservations").select("*");r?console.error("Error fetching reservations:",r):t(e)},d=r.useMemo(()=>e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())),[e,n]);return s.jsxs("section",{className:b.reservationSection,children:[s.jsxs("main",{className:b.dashboardMain,children:[s.jsxs("section",{className:b.dashboardHeader,children:[s.jsx("h2",{children:"Manage Reservations"}),s.jsx("p",{children:"View and manage all reservations here."})]}),s.jsxs("div",{className:b.statsContainer,children:[s.jsx("article",{className:"".concat(b.statCard," ").concat(b.confirmedCardBorder),style:{borderLeft:"#10b981 100px solid"},children:s.jsxs("div",{className:b.statContent,children:[s.jsx("h3",{children:"Completed Reservations"}),s.jsxs("div",{className:"".concat(b.iconWrapper," ").concat(b.confirmedIcon),children:[s.jsx(N,{}),s.jsx("p",{style:{border:"none"},children:o.confirmed})]})]})}),s.jsx("article",{className:"".concat(b.statCard," ").concat(b.pendingCardBorder),style:{borderLeft:"#fbbf24 100px solid"},children:s.jsxs("div",{children:[s.jsx("h3",{children:"Pending Reservations"}),s.jsxs("div",{className:"".concat(b.iconWrapper," ").concat(b.pendingIcon),children:[s.jsx(y,{}),s.jsx("p",{style:{border:"none"},children:o.pending})]})]})})]})]}),s.jsxs("div",{className:"".concat(b.reservationStatistics),children:[s.jsx("h2",{children:"Search Reservations"}),s.jsxs("form",{className:b.searchForm,onSubmit:e=>{e.preventDefault()},children:[s.jsx("input",{type:"text",placeholder:"Search by name...",className:b.searchInput,value:n,onChange:e=>a(e.target.value)}),s.jsx("button",{type:"submit",className:b.searchButton,children:"Search"})]})]}),s.jsx("div",{className:b.tableWrapper,children:s.jsxs("table",{className:b.reservationTable,children:[s.jsx("thead",{className:b.tableHeader,children:s.jsxs("tr",{className:b.tableRow,children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Time"}),s.jsx("th",{children:"Email"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Telephone"}),s.jsx("th",{children:"Guest"}),s.jsx("th",{children:"Services"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{className:b.tableBody,children:d.map(e=>s.jsxs("tr",{className:b.tableRow,children:[s.jsx("td",{children:e.name}),s.jsx("td",{children:e.time}),s.jsx("td",{children:e.email}),s.jsx("td",{children:e.date}),s.jsx("td",{children:e.phone||"N/A"}),s.jsx("td",{children:e.guests}),s.jsx("td",{children:e.occasion}),s.jsx("td",{className:"confirmed"===e.status?b.confirmedStatusText:b.pendingStatusText,children:e.status||"unconfirmed"}),s.jsx("td",{children:s.jsxs("div",{className:b.actionButtons,children:[s.jsx("button",{onClick:()=>(async e=>{t(r=>r.map(r=>r.id===e?{...r,status:"confirmed"}:r));const{error:r}=await v.from("top_notch_reservations").update({status:"confirmed"}).eq("id",e);r&&console.error("Error confirming reservation:",r)})(e.id),disabled:"confirmed"===e.status,className:"confirmed"===e.status?"".concat(b.confirmButton," ").concat(b.confirmConfirmed):"".concat(b.confirmButton," ").concat(b.confirmPending),children:"confirmed"===e.status?"Confirmed":"Confirm"}),s.jsx("button",{onClick:()=>(async e=>{t(r=>r.filter(r=>r.id!==e));const{error:r}=await v.from("top_notch_reservations").delete().eq("id",e);r&&console.error("Error deleting reservation:",r)})(e.id),className:"".concat(b.deleteButton),children:"Delete"})]})})]},e.id))})]})})]})},w="_container_brtgf_17",k="_navContent_brtgf_67",S="_logoutButton_brtgf_167",B=()=>{const[e,t]=r.useState("dashboard"),a=n();return s.jsxs("div",{className:w,children:[s.jsxs("nav",{children:[s.jsxs("div",{className:k,children:[s.jsx("img",{src:"/Logo.jpg",alt:"Top Notch Logo"}),s.jsx("h2",{children:"Admin Panel"}),s.jsx("button",{onClick:()=>t("dashboard"),children:"Dashboard"})]}),s.jsxs("button",{className:S,onClick:()=>{a("/",{replace:!0})},children:["Log out",s.jsx("span",{children:s.jsx(c,{})})]})]}),s.jsxs("div",{children:[s.jsx("header",{children:s.jsx("h1",{children:"Welcome to the Admin Panel"})}),"dashboard"===e?s.jsx(C,{}):s.jsx("p",{children:"Please select an option from the menu"})]})]})};function I(){return s.jsx(a,{children:s.jsxs(o,{children:[s.jsx(i,{path:"/",element:s.jsx(g,{})}),s.jsx(i,{path:"/Admin",element:s.jsx(B,{})})]})})}t.createRoot(document.getElementById("root")).render(s.jsx(r.StrictMode,{children:s.jsx(I,{})}));export{e as __vite_legacy_guard};
